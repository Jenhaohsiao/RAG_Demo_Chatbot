# ä½¿ç”¨è€…æ¸¬è©¦ç’°å¢ƒæº–å‚™å®Œæˆ

## ğŸ“± ç’°å¢ƒç‹€æ…‹

### âœ… å‰ç«¯æœå‹™
- **URL**: http://localhost:5174
- **ç‹€æ…‹**: é‹è¡Œä¸­
- **æŠ€è¡“**: Vite 5.4.21 (React + TypeScript)

### âœ… å¾Œç«¯æœå‹™
- **URL**: http://localhost:8000
- **ç‹€æ…‹**: é‹è¡Œä¸­ï¼ˆDocker å®¹å™¨ï¼‰
- **å¥åº·æª¢æŸ¥**: âœ“ é€šé

### âœ… å‘é‡æ•¸æ“šåº«
- **æœå‹™**: Qdrant
- **URL**: http://localhost:6333
- **ç‹€æ…‹**: é‹è¡Œä¸­ï¼ˆDocker å®¹å™¨ï¼‰

---

## ğŸ¯ åŠŸèƒ½æ¸¬è©¦æ¸…å–®

### Phase 1: åŸºç¤ä¸Šå‚³åŠŸèƒ½
- [ ] ä¸Šå‚³ PDF æ–‡ä»¶
- [ ] ä¸Šå‚³æ–‡æœ¬æ–‡ä»¶
- [ ] ä¸Šå‚³å–®å€‹ URL
- [ ] ç¢ºèªä¸Šå‚³é€²åº¦é¡¯ç¤º

### Phase 2: æ–°åŠŸèƒ½ - è³‡æºæ¶ˆè€—é¢æ¿
- [ ] ä¸Šå‚³ç¶²ç«™ (çˆ¬èŸ²)
- [ ] **æŸ¥çœ‹ ResourceConsumptionPanel**ï¼š
  - [ ] Token æ¶ˆè€—é€²åº¦æ¢é¡¯ç¤º
  - [ ] è³‡æºç­‰ç´šæŒ‡ç¤º (ç¶ /é»ƒ/ç´…)
  - [ ] çˆ¬èŸ²è€—æ™‚é¡¯ç¤º
  - [ ] å¹³å‡ Token/é  è¨ˆç®—æ­£ç¢º

### Phase 3: æ–°åŠŸèƒ½ - çˆ¬èŸ² URL æ¸…å–®
- [ ] ä¸Šå‚³ç¶²ç«™å¾ŒæŸ¥çœ‹ CrawledUrlsPanelï¼š
  - [ ] åŸºç¤ URL é¡¯ç¤º
  - [ ] çˆ¬èŸ²é é¢åˆ—è¡¨å‡ºç¾
  - [ ] çµ±è¨ˆä¿¡æ¯æº–ç¢º (é æ•¸, Token æ•¸)
  - [ ] URL é …ç›®å¯å±•é–‹/æŠ˜ç–Š
  - [ ] é»æ“Šå±•é–‹å¾Œé¡¯ç¤ºè©³ç´°ä¿¡æ¯ï¼š
    - [ ] å®Œæ•´ URL
    - [ ] é é¢æ¨™é¡Œ
    - [ ] Token æ•¸é‡å’Œå æ¯”
    - [ ] å…§å®¹é è¦½
  - [ ] è¤‡è£½æŒ‰éˆ•å¯ç”¨

### Phase 4: å¤šèªè¨€æ¸¬è©¦
- [ ] åˆ‡æ›èªè¨€åˆ° ä¸­æ–‡ (ç¹é«”)
- [ ] åˆ‡æ›èªè¨€åˆ° ä¸­æ–‡ (ç°¡é«”)
- [ ] åˆ‡æ›èªè¨€åˆ° è‹±æ–‡
- [ ] åˆ‡æ›èªè¨€åˆ° æ—¥æ–‡
- [ ] åˆ‡æ›èªè¨€åˆ° éŸ“æ–‡
- [ ] åˆ‡æ›èªè¨€åˆ° è¥¿ç­ç‰™æ–‡
- [ ] åˆ‡æ›èªè¨€åˆ° æ³•æ–‡
- [ ] åˆ‡æ›èªè¨€åˆ° é˜¿æ‹‰ä¼¯æ–‡ (RTL)

### Phase 5: èŠå¤©åŠŸèƒ½æ¸¬è©¦
- [ ] ç™¼é€ç°¡å–®æŸ¥è©¢
- [ ] é©—è­‰å›æ‡‰æ­£ç¢º
- [ ] æª¢æŸ¥ Token æ¶ˆè€—æ˜¯å¦å¯¦æ™‚æ›´æ–°
- [ ] æŸ¥çœ‹èŠå¤©è¨˜éŒ„

### Phase 6: éŸ¿æ‡‰å¼è¨­è¨ˆ
- [ ] åœ¨é›»è…¦ç€è¦½å™¨æ¸¬è©¦ (1920x1080)
- [ ] åœ¨å¹³æ¿ç€è¦½å™¨æ¸¬è©¦ (768px)
- [ ] åœ¨æ‰‹æ©Ÿç€è¦½å™¨æ¸¬è©¦ (375px)
- [ ] é©—è­‰æ‰€æœ‰é¢æ¿åœ¨ç§»å‹•è¨­å‚™ä¸Šå¯ç”¨

### Phase 7: éŒ¯èª¤è™•ç†
- [ ] ä¸Šå‚³ç„¡æ•ˆ URL
- [ ] ä¸Šå‚³éå¤§æ–‡ä»¶
- [ ] ä¸­é€”ä¸­æ–·ä¸Šå‚³
- [ ] æŸ¥çœ‹éŒ¯èª¤æç¤º

---

## ğŸš€ å¿«é€Ÿé–‹å§‹ä½¿ç”¨è€…æ¸¬è©¦

### æ¸¬è©¦å ´æ™¯ 1: çˆ¬èŸ²åŠŸèƒ½ (æ¨è–¦é¦–å…ˆæ¸¬è©¦)
```
1. é€²å…¥ http://localhost:5174
2. é¸æ“‡ "Upload Screen" â†’ "Website"
3. è¼¸å…¥ç¶²å€ï¼šhttps://ccmbimm.ca/
4. é»æ“Šä¸Šå‚³
5. ç­‰å¾…å®Œæˆï¼ŒæŸ¥çœ‹æ–°çš„å…©å€‹é¢æ¿ï¼š
   - ResourceConsumptionPanel (Token æ¶ˆè€—ã€è€—æ™‚)
   - CrawledUrlsPanel (çˆ¬èŸ²çš„æ‰€æœ‰ URL)
```

### æ¸¬è©¦å ´æ™¯ 2: æ–‡ä»¶ä¸Šå‚³
```
1. é¸æ“‡ "Upload Screen" â†’ "File"
2. é¸æ“‡æœ¬åœ° PDF æˆ–æ–‡æœ¬æ–‡ä»¶
3. é»æ“Šä¸Šå‚³
4. è§€å¯Ÿ ResourceConsumptionPanel çš„ Token æ¶ˆè€—
```

### æ¸¬è©¦å ´æ™¯ 3: å¤šèªè¨€
```
1. åœ¨å³ä¸Šè§’æ‰¾åˆ°èªè¨€é¸æ“‡å™¨
2. ä¾æ¬¡åˆ‡æ›æ¯ç¨®èªè¨€
3. é©—è­‰æ‰€æœ‰æ–‡æœ¬éƒ½å·²ç¿»è­¯
4. ç‰¹åˆ¥æª¢æŸ¥é˜¿æ‹‰ä¼¯æ–‡çš„ RTL æ”¯æŒ
```

---

## ğŸ“Š æ–°å¢åŠŸèƒ½è©³è§£

### ResourceConsumptionPanel
**ä½ç½®**: æ–‡ä»¶ä¿¡æ¯å¡ä¸‹æ–¹ (Token ä½¿ç”¨ > 0 æ™‚é¡¯ç¤º)

**é¡¯ç¤ºå…§å®¹**:
- ğŸ“Š Token é€²åº¦æ¢: å·²ç”¨/ç¸½é™åˆ¶ (ä¾‹: 1,250 / 32,000)
- ğŸ¨ è³‡æºç­‰ç´š: 
  - ğŸŸ¢ ç¶  (0-50% ä½¿ç”¨)
  - ğŸŸ¡ é»ƒ (50-80% ä½¿ç”¨)
  - ğŸ”´ ç´… (80-100% ä½¿ç”¨)
- â±ï¸ è™•ç†æ™‚é–“: çˆ¬èŸ²è€—æ™‚ (ç§’)
- ğŸ“ æ–‡æœ¬å¡Šæ•¸: ç”Ÿæˆçš„ chunks æ•¸é‡
- ğŸ“„ å¹³å‡ Token/é : ç¶²ç«™çˆ¬èŸ²ç‰¹æœ‰

### CrawledUrlsPanel
**ä½ç½®**: ResourceConsumptionPanel ä¸‹æ–¹ (çˆ¬èŸ²é é¢å­˜åœ¨æ™‚é¡¯ç¤º)

**é¡¯ç¤ºå…§å®¹**:
- ğŸŒ åŸºç¤ URL: çˆ¬èŸ²èµ·å§‹é»
- ğŸ“Š çµ±è¨ˆ: ç¸½é æ•¸, ç¸½ Token, å¹³å‡ Token/é 
- ğŸ“‹ URL æ¸…å–®: å¯å±•é–‹æŸ¥çœ‹æ¯é è©³æƒ…
- ğŸ”— è¤‡è£½åŠŸèƒ½: ä¸€éµè¤‡è£½ URL

---

## ğŸ”§ é–‹ç™¼è€…åƒè€ƒ

### æ–°æ–‡ä»¶ä½ç½®
```
frontend/src/components/
  â”œâ”€â”€ ResourceConsumptionPanel.tsx (412 è¡Œ)
  â””â”€â”€ CrawledUrlsPanel.tsx (421 è¡Œ)
```

### ä¿®æ”¹çš„æ–‡ä»¶
```
frontend/src/
  â”œâ”€â”€ components/ChatScreen.tsx (é›†æˆæ–°é¢æ¿)
  â””â”€â”€ main.tsx (å‚³éçˆ¬èŸ²æ•¸æ“š)

backend/src/
  â”œâ”€â”€ models/document.py (æ–°å¢ crawled_pages å­—æ®µ)
  â””â”€â”€ api/routes/upload.py (è¿”å›çˆ¬èŸ²è©³æƒ…)
```

### æœ€è¿‘çš„ Git æäº¤
```
5efe13e feat: add crawled_pages to Document model and API responses
c4ad26b fix: correct imports and remove duplicate interface definitions
38de2ee feat: integrate ResourceConsumptionPanel and CrawledUrlsPanel into ChatScreen
```

---

## ğŸ’¡ æç¤º

1. **ç¬¬ä¸€æ¬¡ä½¿ç”¨**: å»ºè­°å…ˆä¸Šå‚³ç¶²ç«™é€²è¡Œçˆ¬èŸ²æ¸¬è©¦ï¼Œæ›´å®¹æ˜“çœ‹åˆ°æ–°åŠŸèƒ½
2. **Token é™åˆ¶**: é è¨­ 32,000 tokensï¼Œå¯åœ¨è¨­ç½®ä¸­èª¿æ•´
3. **å¤šèªè¨€**: æ‰€æœ‰æ–°é¢æ¿éƒ½æ”¯æŒ 8 ç¨®èªè¨€
4. **RTL æ”¯æŒ**: åˆ‡æ›åˆ°é˜¿æ‹‰ä¼¯æ–‡è‡ªå‹•å•Ÿç”¨å³åˆ°å·¦å¸ƒå±€

---

## ğŸ“ æ¸¬è©¦åé¥‹

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¨˜éŒ„ï¼š
- [ ] åŠŸèƒ½åç¨±
- [ ] é æœŸè¡Œç‚º
- [ ] å¯¦éš›è¡Œç‚º
- [ ] ç€è¦½å™¨ / è¨­å‚™ä¿¡æ¯
- [ ] èªè¨€è¨­ç½®

ç¥æ‚¨æ¸¬è©¦æ„‰å¿«! ğŸ‰
